const d=document.getElementById("wordle-grid");function a(e,o){const r=document.createElement("div");r.classList.add("letter"),r.id=`cell-${e}-${o}`,d.appendChild(r)}const c={rows:6,columns:5};function m(){for(let e=0;e<c.rows;e++)for(let o=0;o<c.columns;o++)a(e,o)}m();let l=[];function f(){for(let e=0;e<c.rows;e++){l.push([]);for(let o=0;o<c.columns;o++)l[e].push("")}}f();function u(e,o,r){const s=`cell-${e}-${o}`,i=document.getElementById(s);i&&(i.textContent=r,l[e][o]=r)}function p(e){return e.length===1&&e.match(/[a-z]/i)}function g(e){return e==="Backspace"}function h(e){return e==="Enter"}document.addEventListener("keydown",e=>{p(e.key)?(u(t.currentAttempt,t.currentPosition,e.key),t.currentGuess+=e.key,t.currentPosition++):g(e.key)?t.currentPosition>0&&(t.currentPosition--,u(t.currentAttempt,t.currentPosition,""),t.currentGuess=t.currentGuess.slice(0,-1)):h(e.key)&&(t.currentPosition<t.wordToGuess.length?console.log("The word is not complete."):t.currentPosition===t.wordToGuess.length&&(T(t.wordToGuess,t.currentGuess),t.currentGuess===t.wordToGuess?console.log("Congratulations! You've guessed the word correctly."):(t.currentAttempt++,t.currentAttempt>=c.rows?(P(t.wordToGuess),console.log("Game over. You've reached the maximum number of attempts.")):(console.log("The word guessed is not correct."),t.currentPosition=0,t.currentGuess=""))))});let t={wordToGuess:"",currentAttempt:0,currentPosition:0,currentGuess:""};async function w(){t.wordToGuess=await G(),console.log("Random word:",t.wordToGuess)}w();async function G(){return(await(await fetch("https://it3049c-hangman.fly.dev")).json()).word}function y(e,o){const r=[];for(let s=0;s<e.length;s++)o[s]===e[s]?r.push("correct"):e.includes(o[s])?r.push("misplaced"):r.push("incorrect");return r}function T(e,o){const r=y(e,o);for(let s=0;s<r.length;s++){const i=`cell-${t.currentAttempt}-${s}`,n=document.getElementById(i);n&&(n.classList.remove("correct","misplaced","incorrect"),r[s]==="correct"?n.classList.add("correct"):r[s]==="misplaced"?n.classList.add("misplaced"):n.classList.add("incorrect"))}}function P(e){const o=document.getElementById("reveal-word");o&&(o.textContent=`The correct word was: ${e.toUpperCase()}`,o.style.color="#d33")}
